# ğŸ³ Ta-Go Docker ë°°í¬ ê°€ì´ë“œ

## ê°œìš”

ì´ ê°€ì´ë“œëŠ” Ta-Go í”„ë¡œì íŠ¸ë¥¼ Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ 72.60.40.57 ì„œë²„ì— ë°°í¬í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Docker ë° Docker Composeê°€ ì„¤ì¹˜ëœ ì„œë²„
- 72.60.40.57 ì„œë²„ì— SSH ì ‘ê·¼ ê¶Œí•œ
- Git ì €ì¥ì†Œ ì ‘ê·¼ ê¶Œí•œ

## ë°°í¬ ë‹¨ê³„

### 1. ì„œë²„ì— í”„ë¡œì íŠ¸ í´ë¡ 

```bash
# ì„œë²„ì— SSH ì ‘ì†
ssh root@72.60.40.57

# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /var/www

# í”„ë¡œì íŠ¸ í´ë¡ 
git clone <your-repository-url> ta-go
cd ta-go
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# env.docker íŒŒì¼ì„ .envë¡œ ë³µì‚¬
cp env.docker .env

# í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ ìˆ˜ì •
nano .env
```

### 3. Docker ë¹Œë“œ ë° ì‹¤í–‰

```bash
# ì „ì²´ ìŠ¤íƒ ë¹Œë“œ
docker-compose build

# ì»¨í…Œì´ë„ˆ ì‹œì‘
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f
```

## ê°œë³„ ì„œë¹„ìŠ¤ ê´€ë¦¬

### í”„ë¡ íŠ¸ì—”ë“œë§Œ ì¬ë°°í¬
```bash
docker-compose build ta-go-frontend
docker-compose up -d ta-go-frontend
```

### ë°±ì—”ë“œë§Œ ì¬ì‹œì‘
```bash
docker-compose restart ta-ja-api
```

### ë¡œê·¸ í™•ì¸
```bash
docker-compose logs -f ta-go-frontend
docker-compose logs -f ta-ja-api
```

## ëª¨ë‹ˆí„°ë§

### ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
```bash
docker-compose ps
```

### í—¬ìŠ¤ì²´í¬
```bash
docker-compose ps | grep healthy
```

## ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤ (í•„ìš”ì‹œ)

```bash
# MongoDB, PostgreSQL, Redis ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose up -d ta-ja-mongodb ta-ja-postgres ta-ja-redis
```

## ë¬¸ì œ í•´ê²°

### í¬íŠ¸ ì¶©ëŒ
```bash
# í¬íŠ¸ ì‚¬ìš© í™•ì¸
netstat -tlnp | grep :3000
netstat -tlnp | grep :3011

# ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
sudo lsof -ti:3000 | xargs kill -9
sudo lsof -ti:3011 | xargs kill -9
```

### ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
```bash
# ëª¨ë“  ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker-compose restart

# íŠ¹ì • ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker-compose restart ta-go-frontend
```

### ë¡œê·¸ í™•ì¸
```bash
# ì‹¤ì‹œê°„ ë¡œê·¸
docker-compose logs -f

# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸
docker-compose logs -f ta-go-frontend
```

## ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©

### ì „ì²´ ë°°í¬
```bash
./deploy.sh
```

### ë¹ ë¥¸ ë°°í¬
```bash
./quick-deploy.sh
```

### ìºì‹œ í´ë¦¬ì–´
```bash
./clear-cache.sh
```

## ì ‘ì† URL

- **í”„ë¡ íŠ¸ì—”ë“œ**: http://72.60.40.57:3011
- **ë°±ì—”ë“œ API**: http://72.60.40.57:3000
- **GraphQL**: http://72.60.40.57:3000/graphql
- **í—¬ìŠ¤ì²´í¬**: http://72.60.40.57:3000/health

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

1. í™˜ê²½ ë³€ìˆ˜ íŒŒì¼(.env)ì˜ ë¯¼ê°í•œ ì •ë³´ ë³´í˜¸
2. SSL ì¸ì¦ì„œ ì„¤ì • (HTTPS)
3. ë°©í™”ë²½ ì„¤ì •
4. ì •ê¸°ì ì¸ ë³´ì•ˆ ì—…ë°ì´íŠ¸

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„ 12ì›”
**ë²„ì „**: 1.0.0
